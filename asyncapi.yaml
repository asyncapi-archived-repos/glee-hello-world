asyncapi: 2.1.0
info:
  title: Hello, Glee!
  version: 0.1.0

servers:
  websockets-heroku:
    url: ws://glee-hello-world.herokup.app
    protocol: ws
  websockets:
    url: ws://0.0.0.0:3000
    protocol: ws
  mosquitto:
    url: mqtt://test.mosquitto.org
    protocol: mqtt

channels:
  /:
    publish:
      operationId: onHello
      message:
        $ref: '#/components/messages/hello'
      x-servers:
        - websockets
        - websockets-heroku
    subscribe:
      message:
        $ref: '#/components/messages/hello'
      x-servers:
        - websockets
        - websockets-heroku
  glee/hello:
    subscribe:
      message:
        $ref: '#/components/messages/hello'
      x-servers:
        - mosquitto

components:
  messages:
    hello:
      payload:
        type: string